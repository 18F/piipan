#/components/requestBodies/MatchQueryRequest
MatchQueryRequest:
  required: true
  content:
    application/json:
      schema:
        type: object
        required:
            - query
        properties:
          query:
            $ref: '#/MatchQuery'
      examples:
        $ref: '#/MatchQueryRequestExamples'
MatchQuery:
  type: object
  required:
    - first
    - last
    - dob
    - ssn
  properties:
    first:
      type: string
      description: "PII record's first name"
    middle:
      type: string
      description: "PII record's middle name"
    last:
      type: string
      description: "PII record's last name"
    ssn:
      type: string
      description: "PII record's social security number"
      pattern: '^\d{3}-\d{2}-\d{4}$'
    dob:
      type: string
      format: "date"
      description: "PII record's date of birth"
MatchQueryRequestExamples:
  "All fields":
    description: "A request with values for all fields"
    value:
      query:
        first: "string"
        middle: "string"
        last: "string"
        ssn: "000-00-0000"
        dob: "1970-01-01"
  "Only requried fields":
    description: "A request with values only for required fields"
    value:
      query:
        first: "string"
        last: "string"
        ssn: "000-00-0000"
        dob: "1970-01-01"

#/components/schemas/MatchQueryResponse
MatchQueryResponse:
  type: object
  properties:
    lookup_id:
      type: string
      nullable: true
      description: "the identifier of the match request"
    matches:
      type: array
      items:
        $ref: './pii-record.yaml#/PiiRecord'

MatchQueryResponseExamples:
  Single:
    description: "A query returning a single match"
    value:
      lookup_id: "string"
      matches:
        - $ref: './pii-record.yaml#/PiiRecordExamples/All'
  None:
    description: "A query returning no matches"
    value:
      lookup_id: null
      matches: []
  Multiple:
    description: "A query returning multiple matches"
    value:
      lookup_id: "string"
      matches:
        - $ref: './pii-record.yaml#/PiiRecordExamples/AllEB'
        - $ref: './pii-record.yaml#/PiiRecordExamples/Required'
